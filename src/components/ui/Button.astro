---
import type { JSX } from 'astro/jsx-runtime';

type Props = JSX.ButtonHTMLAttributes<HTMLButtonElement> & {
	variant?: 'default' | 'ghost';
	active?: boolean;
};

const { variant = 'default', active = false, class: className = '', ...rest } = Astro.props as Props;
const classes = ['astro-button', `astro-button--${variant}`, active && 'astro-button--active', className]
	.filter(Boolean)
	.join(' ');
---

<button class={classes} type="button" {...rest}>
	<slot />
</button>

<style>
	.astro-button {
		border: 1px solid rgba(var(--gray), 0.4);
		background: white;
		border-radius: 999px;
		padding: 0.45rem 1rem;
		font-size: 0.9rem;
		cursor: pointer;
		transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
		display: inline-flex;
		align-items: center;
		gap: 0.4rem;
	}

	.astro-button--active {
		background: rgb(var(--black));
		color: white;
		border-color: rgb(var(--black));
	}

	@media (hover: hover) {
		.astro-button--default:hover {
			background: rgb(var(--black));
			color: white;
			border-color: rgb(var(--black));
		}
	}

	.astro-button--ghost {
		background: transparent;
	}

	:global(.dark) .astro-button {
		background: rgba(255, 255, 255, 0.05);
		color: white;
	}

	:global(.dark) .astro-button--active {
		background: white;
		color: #111;
		border-color: white;
	}

	@media (hover: hover) {
		:global(.dark) .astro-button--default:hover {
			background: white;
			color: #111;
			border-color: white;
		}
	}
</style>
